'use strict';

var _general = require('../general');

var appRouter = function appRouter(app) {
  // load home page
  app.get('/', function (req, res) {
    res.sendFile('index.html', { root: _general.APP_ROOT + '/public' });
  });
  // serve static content for home page
  app.get('/*', function (req, res) {
    res.sendFile(req.url, { root: _general.APP_ROOT + '/public' });
  });

  // error handling
  app.use(function (err, req, res, next) {
    if (res.headersSent) {
      return next(err);
    }

    res.status(500).send(err.message);
  });
};

module.exports = appRouter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yb3V0ZXMvcm91dGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBRUEsSUFBTSxZQUFZLFNBQVosU0FBWSxDQUFDLEdBQUQsRUFBZ0I7QUFDaEM7QUFDQSxNQUFJLEdBQUosQ0FBUSxHQUFSLEVBQWEsVUFBQyxHQUFELEVBQU0sR0FBTixFQUFjO0FBQ3pCLFFBQUksUUFBSixDQUFhLFlBQWIsRUFBMkIsRUFBQyxNQUFNLG9CQUFXLFNBQWxCLEVBQTNCO0FBQ0QsR0FGRDtBQUdBO0FBQ0EsTUFBSSxHQUFKLENBQVEsSUFBUixFQUFjLFVBQUMsR0FBRCxFQUFNLEdBQU4sRUFBYztBQUMxQixRQUFJLFFBQUosQ0FBYSxJQUFJLEdBQWpCLEVBQXNCLEVBQUMsTUFBTSxvQkFBVyxTQUFsQixFQUF0QjtBQUNELEdBRkQ7O0FBSUE7QUFDQSxNQUFJLEdBQUosQ0FBUSxVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixJQUFoQixFQUF5QjtBQUMvQixRQUFJLElBQUksV0FBUixFQUFxQjtBQUNuQixhQUFPLEtBQUssR0FBTCxDQUFQO0FBQ0Q7O0FBRUQsUUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixJQUFJLE9BQXpCO0FBQ0QsR0FORDtBQU9ELENBbEJEOztBQW9CQSxPQUFPLE9BQVAsR0FBaUIsU0FBakIiLCJmaWxlIjoicm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcblxuaW1wb3J0IHtBUFBfUk9PVH0gZnJvbSAnLi4vZ2VuZXJhbCc7XG5cbmNvbnN0IGFwcFJvdXRlciA9IChhcHA6T2JqZWN0KSA9PiB7XG4gIC8vIGxvYWQgaG9tZSBwYWdlXG4gIGFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZEZpbGUoJ2luZGV4Lmh0bWwnLCB7cm9vdDogQVBQX1JPT1QgKyAnL3B1YmxpYyd9KTtcbiAgfSk7XG4gIC8vIHNlcnZlIHN0YXRpYyBjb250ZW50IGZvciBob21lIHBhZ2VcbiAgYXBwLmdldCgnLyonLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZEZpbGUocmVxLnVybCwge3Jvb3Q6IEFQUF9ST09UICsgJy9wdWJsaWMnfSk7XG4gIH0pO1xuXG4gIC8vIGVycm9yIGhhbmRsaW5nXG4gIGFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZiAocmVzLmhlYWRlcnNTZW50KSB7XG4gICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cblxuICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGVyci5tZXNzYWdlKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcFJvdXRlcjtcbiJdfQ==